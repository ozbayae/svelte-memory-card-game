import{a as V,t as K,c as re}from"../chunks/disclose-version.BDVfCZoF.js";import{h as N,B as oe,b as ce,I as le,U as Ut,a7 as fe,a8 as Tt,A as Et,O as st,c as H,a5 as Gt,a as Bt,a6 as ue,ap as at,y as $,aq as de,ar as he,as as ve,W as pe,$ as At,at as _e,au as me,S as ge,av as ye,d as be,P as we,M as Te,aw as Ee,a4 as xt,ax as Ae,E as xe,ay as Ce,az as ke,a9 as Me,g as Oe,aA as Re,D as Ie,n as q,aB as Ne,G as Ct,H as kt,J as De,p as _t,e as Se,q as C,s as k,v as L,t as mt,o as gt,X as I,ao as Fe,i as A,aC as Mt,m as Ot,ak as Rt}from"../chunks/runtime.BnQmGoPV.js";import{d as Pe,e as qe,f as nt,a as Le}from"../chunks/store.DaJi2XWX.js";import{p as Ve,b as It,o as ze,a as Nt,i as Ue}from"../chunks/index-client.kshuhtMw.js";import{i as Ge}from"../chunks/lifecycle.aOa03oUy.js";import{s as Be}from"../chunks/snippet.BpptFowH.js";let rt=null;function He(t,e){return e}function We(t,e,i,s){for(var a=[],n=e.length,r=0;r<n;r++)me(e[r].e,a,!0);var f=n>0&&a.length===0&&i!==null;if(f){var d=i.parentNode;ge(d),d.append(i),s.clear(),D(t,e[0].prev,e[n-1].next)}ye(a,()=>{for(var o=0;o<n;o++){var l=e[o];f||(s.delete(l.k),D(t,l.prev,l.next)),be(l.e,!f)}})}function Ye(t,e,i,s,a,n=null){var r=t,f={flags:e,items:new Map,first:null};N&&oe();var d=null,o=!1;ce(()=>{var l=i(),h=le(l)?l:l==null?[]:Ut(l),c=h.length;if(o&&c===0)return;o=c===0;let p=!1;if(N){var u=r.data===fe;u!==(c===0)&&(r=Tt(),Et(r),st(!1),p=!0)}if(N){for(var _=null,v,m=0;m<c;m++){if(H.nodeType===8&&H.data===we){r=H,p=!0,st(!1);break}var w=h[m],T=s(w,m);v=Ht(H,f,_,null,w,T,m,a,e),f.items.set(T,v),_=v}c>0&&Et(Tt())}N||je(h,f,r,a,e,s),n!==null&&(c===0?d?Gt(d):d=Bt(()=>n(r)):d!==null&&ue(d,()=>{d=null})),p&&st(!0),i()}),N&&(r=H)}function je(t,e,i,s,a,n){var r=t.length,f=e.items,d=e.first,o=d,l,h=null,c=[],p=[],u,_,v,m;for(m=0;m<r;m+=1){if(u=t[m],_=n(u,m),v=f.get(_),v===void 0){var w=o?o.e.nodes_start:i;h=Ht(w,e,h,h===null?e.first:h.next,u,_,m,s,a),f.set(_,h),c=[],p=[],o=h.next;continue}if(Ke(v,u,m),v.e.f&at&&Gt(v.e),v!==o){if(l!==void 0&&l.has(v)){if(c.length<p.length){var T=p[0],y;h=T.prev;var E=c[0],O=c[c.length-1];for(y=0;y<c.length;y+=1)Dt(c[y],T,i);for(y=0;y<p.length;y+=1)l.delete(p[y]);D(e,E.prev,O.next),D(e,h,E),D(e,O,T),o=T,h=O,m-=1,c=[],p=[]}else l.delete(v),Dt(v,o,i),D(e,v.prev,v.next),D(e,v,h===null?e.first:h.next),D(e,h,v),h=v;continue}for(c=[],p=[];o!==null&&o.k!==_;)o.e.f&at||(l??(l=new Set)).add(o),p.push(o),o=o.next;if(o===null)continue;v=o}c.push(v),h=v,o=v.next}if(o!==null||l!==void 0){for(var x=l===void 0?[]:Ut(l);o!==null;)o.e.f&at||x.push(o),o=o.next;var R=x.length;if(R>0){var g=null;We(e,x,g,f)}}$.first=e.first&&e.first.e,$.last=h&&h.e}function Ke(t,e,i,s){de(t.v,e),t.i=i}function Ht(t,e,i,s,a,n,r,f,d){var o=rt;try{var l=(d&he)!==0,h=(d&ve)===0,c=l?h?pe(a):At(a):a,p=d&_e?At(r):r,u={i:p,v:c,k:n,a:null,e:null,prev:i,next:s};return rt=u,u.e=Bt(()=>f(t,c,p),N),u.e.prev=i&&i.e,u.e.next=s&&s.e,i===null?e.first=u:(i.next=u,i.e.next=u.e),s!==null&&(s.prev=u,s.e.prev=u.e),u}finally{rt=o}}function Dt(t,e,i){for(var s=t.next?t.next.e.nodes_start:i,a=e?e.e.nodes_start:i,n=t.e.nodes_start;n!==s;){var r=Te(n);a.before(n),n=r}}function D(t,e,i){e===null?t.first=i:(e.next=i,e.e.next=i&&i.e),i!==null&&(i.prev=e,i.e.prev=e&&e.e)}function ut(t,e,i,s){var a=t.__attributes??(t.__attributes={});N&&(a[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||a[e]!==(a[e]=i)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Ee]=i),i==null?t.removeAttribute(e):typeof i!="string"&&Xe(t).includes(e)?t[e]=i:t.setAttribute(e,i))}var St=new Map;function Xe(t){var e=St.get(t.nodeName);if(e)return e;St.set(t.nodeName,e=[]);for(var i,s=xt(t),a=Element.prototype;a!==s;){i=Ae(s);for(var n in i)i[n].set&&e.push(n);s=xt(s)}return e}function Q(t,e){var i=t.__className,s=Ze(e);N&&t.className===s?t.__className=s:(i!==s||N&&t.className!==s)&&(e==null?t.removeAttribute("class"):t.className=s,t.__className=s)}function Ze(t){return t??""}const Je=()=>performance.now(),S={tick:t=>requestAnimationFrame(t),now:()=>Je(),tasks:new Set};function Wt(t){S.tasks.forEach(e=>{e.c(t)||(S.tasks.delete(e),e.f())}),S.tasks.size!==0&&S.tick(Wt)}function Qe(t){let e;return S.tasks.size===0&&S.tick(Wt),{promise:new Promise(i=>{S.tasks.add(e={c:t,f:i})}),abort(){S.tasks.delete(e)}}}function X(t,e){t.dispatchEvent(new CustomEvent(e))}function $e(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function Ft(t){const e={},i=t.split(";");for(const s of i){const[a,n]=s.split(":");if(!a||n===void 0)break;const r=$e(a.trim());e[r]=n.trim()}return e}const ti=t=>t;function ei(t,e,i,s){var a=(t&Ne)!==0,n="both",r,f=e.inert,d,o;function l(){var _=De,v=$;Ct(null),kt(null);try{return r??(r=i()(e,(s==null?void 0:s())??{},{direction:n}))}finally{Ct(_),kt(v)}}var h={is_global:a,in(){e.inert=f,X(e,"introstart"),d=dt(e,l(),o,1,()=>{X(e,"introend"),d==null||d.abort(),d=r=void 0})},out(_){e.inert=!0,X(e,"outrostart"),o=dt(e,l(),d,0,()=>{X(e,"outroend"),_==null||_()})},stop:()=>{d==null||d.abort(),o==null||o.abort()}},c=$;if((c.transitions??(c.transitions=[])).push(h),Pe){var p=a;if(!p){for(var u=c.parent;u&&u.f&xe;)for(;(u=u.parent)&&!(u.f&Ce););p=!u||(u.f&ke)!==0}p&&Me(()=>{Oe(()=>h.in())})}}function dt(t,e,i,s,a){var n=s===1;if(Re(e)){var r,f=!1;return Ie(()=>{if(!f){var v=e({direction:n?"in":"out"});r=dt(t,v,i,s,a)}}),{abort:()=>{f=!0,r==null||r.abort()},deactivate:()=>r.deactivate(),reset:()=>r.reset(),t:()=>r.t()}}if(i==null||i.deactivate(),!(e!=null&&e.duration))return a(),{abort:q,deactivate:q,reset:q,t:()=>s};const{delay:d=0,css:o,tick:l,easing:h=ti}=e;var c=[];if(n&&i===void 0&&(l&&l(0,1),o)){var p=Ft(o(0,1));c.push(p,p)}var u=()=>1-s,_=t.animate(c,{duration:d});return _.onfinish=()=>{var v=(i==null?void 0:i.t())??1-s;i==null||i.abort();var m=s-v,w=e.duration*Math.abs(m),T=[];if(w>0){if(o)for(var y=Math.ceil(w/16.666666666666668),E=0;E<=y;E+=1){var O=v+m*h(E/y),x=o(O,1-O);T.push(Ft(x))}u=()=>{var R=_.currentTime;return v+m*h(R/w)},l&&Qe(()=>{if(_.playState!=="running")return!1;var R=u();return l(R,1-R),!0})}_=t.animate(T,{duration:w,fill:"forwards"}),_.onfinish=()=>{u=()=>s,l==null||l(s,1-s),a()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=q)},deactivate:()=>{a=q},reset:()=>{s===0&&(l==null||l(1,0))},t:()=>u()}}function ii(t,e){t.indexOf(e)===-1&&t.push(e)}const Yt=(t,e,i)=>Math.min(Math.max(i,t),e),M={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},tt=t=>typeof t=="number",U=t=>Array.isArray(t)&&!tt(t[0]),si=(t,e,i)=>{const s=e-t;return((i-t)%s+s)%s+t};function ai(t,e){return U(t)?t[si(0,t.length,e)]:t}const jt=(t,e,i)=>-i*t+i*e+t,Kt=()=>{},F=t=>t,yt=(t,e,i)=>e-t===0?1:(i-t)/(e-t);function Xt(t,e){const i=t[t.length-1];for(let s=1;s<=e;s++){const a=yt(0,e,s);t.push(jt(i,1,a))}}function ni(t){const e=[0];return Xt(e,t-1),e}function ri(t,e=ni(t.length),i=F){const s=t.length,a=s-e.length;return a>0&&Xt(e,a),n=>{let r=0;for(;r<s-2&&!(n<e[r+1]);r++);let f=Yt(0,1,yt(e[r],e[r+1],n));return f=ai(i,r)(f),jt(t[r],t[r+1],f)}}const Zt=t=>Array.isArray(t)&&tt(t[0]),ht=t=>typeof t=="object"&&!!t.createAnimation,G=t=>typeof t=="function",oi=t=>typeof t=="string",Y={ms:t=>t*1e3,s:t=>t/1e3},Jt=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,ci=1e-7,li=12;function fi(t,e,i,s,a){let n,r,f=0;do r=e+(i-e)/2,n=Jt(r,s,a)-t,n>0?i=r:e=r;while(Math.abs(n)>ci&&++f<li);return r}function W(t,e,i,s){if(t===e&&i===s)return F;const a=n=>fi(n,0,1,t,i);return n=>n===0||n===1?n:Jt(a(n),e,s)}const ui=(t,e="end")=>i=>{i=e==="end"?Math.min(i,.999):Math.max(i,.001);const s=i*t,a=e==="end"?Math.floor(s):Math.ceil(s);return Yt(0,1,a/t)},di={ease:W(.25,.1,.25,1),"ease-in":W(.42,0,1,1),"ease-in-out":W(.42,0,.58,1),"ease-out":W(0,0,.58,1)},hi=/\((.*?)\)/;function Pt(t){if(G(t))return t;if(Zt(t))return W(...t);const e=di[t];if(e)return e;if(t.startsWith("steps")){const i=hi.exec(t);if(i){const s=i[1].split(",");return ui(parseFloat(s[0]),s[1].trim())}}return F}class Qt{constructor(e,i=[0,1],{easing:s,duration:a=M.duration,delay:n=M.delay,endDelay:r=M.endDelay,repeat:f=M.repeat,offset:d,direction:o="normal",autoplay:l=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=F,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((c,p)=>{this.resolve=c,this.reject=p}),s=s||M.easing,ht(s)){const c=s.createAnimation(i);s=c.easing,i=c.keyframes||i,a=c.duration||a}this.repeat=f,this.easing=U(s)?F:Pt(s),this.updateDuration(a);const h=ri(i,d,U(s)?s.map(Pt):F);this.tick=c=>{var p;n=n;let u=0;this.pauseTime!==void 0?u=this.pauseTime:u=(c-this.startTime)*this.rate,this.t=u,u/=1e3,u=Math.max(u-n,0),this.playState==="finished"&&this.pauseTime===void 0&&(u=this.totalDuration);const _=u/this.duration;let v=Math.floor(_),m=_%1;!m&&_>=1&&(m=1),m===1&&v--;const w=v%2;(o==="reverse"||o==="alternate"&&w||o==="alternate-reverse"&&!w)&&(m=1-m);const T=u>=this.totalDuration?1:Math.min(m,1),y=h(this.easing(T));e(y),this.pauseTime===void 0&&(this.playState==="finished"||u>=this.totalDuration+r)?(this.playState="finished",(p=this.resolve)===null||p===void 0||p.call(this,y)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},l&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class vi{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const ot=new WeakMap;function $t(t){return ot.has(t)||ot.set(t,{transforms:[],values:new Map}),ot.get(t)}function pi(t,e){return t.has(e)||t.set(e,new vi),t.get(e)}const _i=["","X","Y","Z"],mi=["translate","scale","rotate","skew"],et={x:"translateX",y:"translateY",z:"translateZ"},qt={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},gi={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:qt,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:F},skew:qt},j=new Map,bt=t=>`--motion-${t}`,it=["x","y","z"];mi.forEach(t=>{_i.forEach(e=>{it.push(t+e),j.set(bt(t+e),gi[t])})});const yi=(t,e)=>it.indexOf(t)-it.indexOf(e),bi=new Set(it),te=t=>bi.has(t),wi=(t,e)=>{et[e]&&(e=et[e]);const{transforms:i}=$t(t);ii(i,e),t.style.transform=Ti(i)},Ti=t=>t.sort(yi).reduce(Ei,"").trim(),Ei=(t,e)=>`${t} ${e}(var(${bt(e)}))`,vt=t=>t.startsWith("--"),Lt=new Set;function Ai(t){if(!Lt.has(t)){Lt.add(t);try{const{syntax:e,initialValue:i}=j.has(t)?j.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:i})}catch{}}}const ct=(t,e)=>document.createElement("div").animate(t,e),Vt={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{ct({opacity:[1]})}catch{return!1}return!0},finished:()=>!!ct({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{ct({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},lt={},z={};for(const t in Vt)z[t]=()=>(lt[t]===void 0&&(lt[t]=Vt[t]()),lt[t]);const xi=.015,Ci=(t,e)=>{let i="";const s=Math.round(e/xi);for(let a=0;a<s;a++)i+=t(yt(0,s-1,a))+", ";return i.substring(0,i.length-2)},zt=(t,e)=>G(t)?z.linearEasing()?`linear(${Ci(t,e)})`:M.easing:Zt(t)?ki(t):t,ki=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`;function Mi(t,e){for(let i=0;i<t.length;i++)t[i]===null&&(t[i]=i?t[i-1]:e());return t}const Oi=t=>Array.isArray(t)?t:[t];function pt(t){return et[t]&&(t=et[t]),te(t)?bt(t):t}const Z={get:(t,e)=>{e=pt(e);let i=vt(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!i&&i!==0){const s=j.get(e);s&&(i=s.initialValue)}return i},set:(t,e,i)=>{e=pt(e),vt(e)?t.style.setProperty(e,i):t.style[e]=i}};function ee(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function Ri(t,e){var i;let s=(e==null?void 0:e.toDefaultUnit)||F;const a=t[t.length-1];if(oi(a)){const n=((i=a.match(/(-?[\d.]+)([a-z%]*)/))===null||i===void 0?void 0:i[2])||"";n&&(s=r=>r+n)}return s}function Ii(){return window.__MOTION_DEV_TOOLS_RECORD}function Ni(t,e,i,s={},a){const n=Ii(),r=s.record!==!1&&n;let f,{duration:d=M.duration,delay:o=M.delay,endDelay:l=M.endDelay,repeat:h=M.repeat,easing:c=M.easing,persist:p=!1,direction:u,offset:_,allowWebkitAcceleration:v=!1,autoplay:m=!0}=s;const w=$t(t),T=te(e);let y=z.waapi();T&&wi(t,e);const E=pt(e),O=pi(w.values,E),x=j.get(E);return ee(O.animation,!(ht(c)&&O.generator)&&s.record!==!1),()=>{const R=()=>{var b,B;return(B=(b=Z.get(t,E))!==null&&b!==void 0?b:x==null?void 0:x.initialValue)!==null&&B!==void 0?B:0};let g=Mi(Oi(i),R);const wt=Ri(g,x);if(ht(c)){const b=c.createAnimation(g,e!=="opacity",R,E,O);c=b.easing,g=b.keyframes||g,d=b.duration||d}if(vt(E)&&(z.cssRegisterProperty()?Ai(E):y=!1),T&&!z.linearEasing()&&(G(c)||U(c)&&c.some(G))&&(y=!1),y){x&&(g=g.map(P=>tt(P)?x.toDefaultUnit(P):P)),g.length===1&&(!z.partialKeyframes()||r)&&g.unshift(R());const b={delay:Y.ms(o),duration:Y.ms(d),endDelay:Y.ms(l),easing:U(c)?void 0:zt(c,d),direction:u,iterations:h+1,fill:"both"};f=t.animate({[E]:g,offset:_,easing:U(c)?c.map(P=>zt(P,d)):void 0},b),f.finished||(f.finished=new Promise((P,ne)=>{f.onfinish=P,f.oncancel=ne}));const B=g[g.length-1];f.finished.then(()=>{p||(Z.set(t,E,B),f.cancel())}).catch(Kt),v||(f.playbackRate=1.000001)}else if(a&&T)g=g.map(b=>typeof b=="string"?parseFloat(b):b),g.length===1&&g.unshift(parseFloat(R())),f=new a(b=>{Z.set(t,E,wt?wt(b):b)},g,Object.assign(Object.assign({},s),{duration:d,easing:c}));else{const b=g[g.length-1];Z.set(t,E,x&&tt(b)?x.toDefaultUnit(b):b)}return r&&n(t,e,g,{duration:d,delay:o,easing:c,repeat:h,offset:_},"motion-one"),O.setAnimation(f),f&&!m&&f.pause(),f}}const Di=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function Si(t,e){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const Fi=t=>t(),ie=(t,e,i=M.duration)=>new Proxy({animations:t.map(Fi).filter(Boolean),duration:i,options:e},qi),Pi=t=>t.animations[0],qi={get:(t,e)=>{const i=Pi(t);switch(e){case"duration":return t.duration;case"currentTime":return Y.s((i==null?void 0:i[e])||0);case"playbackRate":case"playState":return i==null?void 0:i[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Li)).catch(Kt)),t.finished;case"stop":return()=>{t.animations.forEach(s=>ee(s))};case"forEachNative":return s=>{t.animations.forEach(a=>s(a,t))};default:return typeof(i==null?void 0:i[e])>"u"?void 0:()=>t.animations.forEach(s=>s[e]())}},set:(t,e,i)=>{switch(e){case"currentTime":i=Y.ms(i);case"playbackRate":for(let s=0;s<t.animations.length;s++)t.animations[s][e]=i;return!0}return!1}},Li=t=>t.finished;function Vi(t,e,i){return G(t)?t(e,i):t}function zi(t){return function(i,s,a={}){i=Si(i);const n=i.length,r=[];for(let f=0;f<n;f++){const d=i[f];for(const o in s){const l=Di(a,o);l.delay=Vi(l.delay,f,n);const h=Ni(d,o,s[o],l,t);r.push(h)}}return ie(r,a,a.duration)}}const Ui=zi(Qt);function Gi(t,e={}){return ie([()=>{const i=new Qt(t,[0,1],e);return i.finished.catch(()=>{}),i}],e,e.duration)}function ft(t,e,i){return(G(t)?Gi:Ui)(t,e,i)}const Bi=(t,e)=>{var i;(i=e.onCardClicked)==null||i.call(e,{position:e.position})};var Hi=K('<div><button><div><div class="card_front overflow-hidden rounded-lg svelte-1ur7s5q"><img alt="front" class="h-4/5 w-4/5"></div> <div class="card_back overflow-hidden rounded-lg svelte-1ur7s5q"><img alt="back" class="h-3/4 w-3/4"></div></div></button></div>');function Wi(t,e){_t(e,!0);let i,s;const a="/src/lib/assets/card_images/card_back.png";let n=Ve(e,"visualState",3,"face-down");Se(()=>{r(n())});function r(u){switch(u){case"face-down":ft(i,{rotateY:0});break;case"face-up":ft(i,{rotateY:180});break;case"matched":ft(i,{rotateY:180,scale:[1,.8,1.2,1]},{duration:.5,easing:"ease-in-out"})}}var f=Hi(),d=C(f);d.__click=[Bi,e];var o=C(d);Q(o,"card  rounded-lg shadow-lg svelte-1ur7s5q");var l=C(o),h=C(l);k(l);var c=L(l,2),p=C(c);ut(p,"src",a),k(c),k(o),It(o,u=>i=u,()=>i),k(d),It(d,u=>s=u,()=>s),k(f),mt(()=>{Q(f,e.clickable?"transition-transform hover:scale-110":""),Q(d,`${"card_container transition-duration-1000 transition-all"+(n()==="matched"?" opacity-50":"")} svelte-1ur7s5q`),d.disabled=!e.clickable,ut(h,"src",e.card_front)}),V(t,f),gt()}qe(["click"]);const Yi=t=>t;function ji(t,{delay:e=0,duration:i=400,easing:s=Yi}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:i,easing:s,css:n=>`opacity: ${n*a}`}}var Ki=K('<div class="flex h-screen w-screen items-center justify-center"><div class="responsive-gap h-11/12 grid w-11/12 max-w-screen-2xl svelte-qkpz5k"><!></div></div>');function Xi(t,e){_t(e,!0);let i=Fe(4);ze(()=>{I(i,Nt(a(e.num_items,s()))),window.addEventListener("resize",()=>{I(i,Nt(a(e.num_items,s())))})});function s(){return window===void 0?1:window.innerWidth/window.innerHeight}function a(d,o){const l=1/o;return Math.ceil(Math.sqrt(d/l))}var n=Ki(),r=C(n),f=C(r);Be(f,()=>e.children??q),k(r),k(n),mt(()=>ut(r,"style",`grid-template-columns: repeat(${A(i)}, 1fr);`)),V(t,n),gt()}const se=[{id:1,image_path:"/src/lib/assets/card_images/1.png"},{id:2,image_path:"/src/lib/assets/card_images/2.png"},{id:3,image_path:"/src/lib/assets/card_images/3.png"},{id:4,image_path:"/src/lib/assets/card_images/4.png"}],ae=[...se,{id:5,image_path:"/src/lib/assets/card_images/5.png"},{id:6,image_path:"/src/lib/assets/card_images/6.png"},{id:7,image_path:"/src/lib/assets/card_images/7.png"},{id:8,image_path:"/src/lib/assets/card_images/8.png"}],Zi=[...ae,{id:9,image_path:"/src/lib/assets/card_images/9.png"},{id:10,image_path:"/src/lib/assets/card_images/10.png"},{id:11,image_path:"/src/lib/assets/card_images/11.png"},{id:12,image_path:"/src/lib/assets/card_images/12.png"}];function J(t=se){return{cards:[...t,...t].sort(()=>Math.random()-.5).map((a,n)=>({card:a,position:n,isMatched:!1})),turns:0,matches:0,isGameFinished:!1,first_choice_position:null,second_choice_position:null}}function Ji(t,e){if(t.isGameFinished)throw new Error("Game is already finished");if(t.cards[e].isMatched)throw new Error("Cannot pick already matched card");if(e===t.first_choice_position)throw new Error("Cannot pick the same card twice");if(t.first_choice_position!==null&&t.second_choice_position!==null)throw new Error("Cannot pick more than two cards");return{...t,first_choice_position:t.first_choice_position===null?e:t.first_choice_position,second_choice_position:t.first_choice_position!==null?e:null}}function Qi(t){if(t.first_choice_position===null||t.second_choice_position===null)throw new Error("Need to pick two cards first");const e=t.cards[t.first_choice_position],i=t.cards[t.second_choice_position];if(e.card.id===i.card.id){const s=t.cards.map((n,r)=>r===t.first_choice_position||r===t.second_choice_position?{...n,isMatched:!0}:n),a=s.every(n=>n.isMatched);return{...t,cards:s,turns:t.turns+1,matches:t.matches+1,isGameFinished:a,first_choice_position:null,second_choice_position:null}}return{...t,turns:t.turns+1,first_choice_position:null,second_choice_position:null}}var $i=K("<div><!></div>"),ts=K('<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-80"><div class="mx-4 w-full max-w-md rounded-lg bg-white p-8"><h1 class="text-center text-4xl font-bold">You won!</h1> <p class="text-center text-lg"> </p> <div class="mt-4 flex flex-col space-y-4"><button class="rounded-lg bg-blue-500 px-4 py-2 text-white">Easy</button> <button class="rounded-lg bg-blue-500 px-4 py-2 text-white">Medium</button> <button class="rounded-lg bg-blue-500 px-4 py-2 text-white">Hard</button></div></div></div>'),es=K('<div class="bg-gray-50"><!></div> <!>',1);function is(t,e){_t(e,!1);let i=Mt(J()),s=Mt(!1);function a(l){return A(i).cards[l].isMatched?"matched":A(i).first_choice_position===l||A(i).second_choice_position===l?"face-up":"face-down"}async function n(l){I(i,Ji(A(i),l.position)),A(i).second_choice_position!==null&&(I(s,!0),await new Promise(h=>setTimeout(h,1200)),I(s,!1),I(i,Qi(A(i))))}Ge();var r=es(),f=Ot(r),d=C(f);Xi(d,{get num_items(){return A(i).cards.length},children:(l,h)=>{var c=re(),p=Ot(c);Ye(p,1,()=>A(i).cards,He,(u,_,v)=>{var m=$i();Q(m,"aspect-w-4 aspect-h-4 w-full ");var w=C(m),T=Rt(()=>a(v)),y=Rt(()=>a(v)==="face-down"&&!A(s));Wi(w,{get card_front(){return A(_).card.image_path},get visualState(){return A(T)},position:v,get clickable(){return A(y)},onCardClicked:n}),k(m),V(u,m)}),V(l,c)},$$slots:{default:!0}}),k(f);var o=L(f,2);Ue(o,()=>A(i).isGameFinished,l=>{var h=ts(),c=C(h),p=L(C(c),2),u=C(p);k(p);var _=L(p,2),v=C(_),m=L(v,2),w=L(m,2);k(_),k(c),k(h),mt(()=>Le(u,`You finished the game in ${A(i).turns??""} moves. Want to play again?`)),nt("click",v,()=>I(i,J())),nt("click",m,()=>I(i,J(ae))),nt("click",w,()=>I(i,J(Zi))),ei(3,h,()=>ji),V(l,h)}),V(t,r),gt()}function ls(t){is(t,{})}export{ls as component};
